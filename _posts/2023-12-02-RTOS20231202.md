---
layout: post
title: 'XiLinx SDK FreeRTOS学习记录（二）——UART与蓝牙收发'
---
## 前置知识
这篇文章结合了上一篇文章[XiLinx SDK FreeRTOS学习记录（一）——HelloWorld示例工程](https://www.zzy-blog.top/RTOS20231130/)与之前讲的[vivado UART串口学习记录](https://www.zzy-blog.top/vivado20231128/)，将其移植到RTOS中来。

## 大致思路
我们可以直接在HelloWorld示例工程上进行修改，但是我们不需要发送数据到队列这个任务了，因为发送是蓝牙发送的，我们只需要保留从队列接收数据的任务即可。然后对于UART、GIC这些的配置问题，我们可以直接放在一个任务中去完成，但是由于RTOS的任务会一直执行，我们只需要执行一次即可，因此我们可以在这个任务完成一次后就将其删掉，使用`vTaskDelete()`函数，其中的参数是任务的句柄，但是当任务要删除自己的时候直接使用`NULL`即可。

然后在之前的代码中，我们将UART收到的内容打印出来，而移植到RTOS中就不需要了，我们将数据存下来然后发送给