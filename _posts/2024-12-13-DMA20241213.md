---
layout: post
title: 'DAM学习笔记'
---

## DMA简介
- 参考这篇正点原子的[blog](https://blog.csdn.net/weixin_41445387/article/details/116198910)

大致用法就是把一堆数据搬移到主存中或者从主存中搬移一堆数据出来，因此需要一个中间的媒介，可以是FIFO，也可以是BRAM。外部数据写入中间媒介，然后DMA从中间媒介把数据写入主存，或是DMA把主存数据写入中间媒介，然后再输出到外部。

## 发送数据流
大致流程是蓝牙把收到的数据发给pl端，然后pl端有一个差错重传的机制会进行校验，如果正确会把比特流转换成8比特数依次写入FIFO中，同时告诉蓝牙发下一包；如果校验错误就会跟蓝牙通信重传这一包。写入到FIFO中的数是解构之后的数，去掉了校验位。DMA从FIFO中取数，写入主存地址，给ps中断，ps从相应地址取数，然后进行后续处理。

![1]({{"./image/DMA/1.jpg" | absolute_url}})